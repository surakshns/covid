(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[29],{102:function(e,t,i){"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var c,n,r;if(Array.isArray(t)){if((c=t.length)!=i.length)return!1;for(n=c;0!==n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((c=(r=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=c;0!==n--;)if(!Object.prototype.hasOwnProperty.call(i,r[n]))return!1;for(n=c;0!==n--;){var s=r[n];if(!e(t[s],i[s]))return!1}return!0}return t!==t&&i!==i}},152:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var c=i(26);function n(e,t){var i;if(void 0===t){var n,r=Object(c.a)(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;null!=s&&(i>s||void 0===i&&s>=s)&&(i=s)}}catch(u){r.e(u)}finally{r.f()}}else{var a,o=-1,d=Object(c.a)(e);try{for(d.s();!(a=d.n()).done;){var l=a.value;null!=(l=t(l,++o,e))&&(i>l||void 0===i&&l>=l)&&(i=l)}}catch(u){d.e(u)}finally{d.f()}}return i}},185:function(e,t,i){"use strict";i.r(t);var c=i(112),n=i(51),r=i(123),s=i(20),a=function(){var e=window.innerWidth,t=e>=769?480:e,i=1200;return Object(s.jsxs)(r.a,{viewBox:"0 0 ".concat(t," ").concat(i),height:i,width:t,speed:2,children:[Object(s.jsx)("circle",{cx:.4*t,cy:600,r:"5"}),Object(s.jsx)("circle",{cx:.5*t,cy:600,r:"5"}),Object(s.jsx)("circle",{cx:.6*t,cy:600,r:"5"})]})},o=i(10),d=i(124),l=i(25),u=i(106),j=i(104),b=i.n(j),O=i(152),f=i(76),h=i(91),m=i(102),v=i.n(m),g=i(2),x=i(296),p=i(205),y=i(291),N=Object(g.lazy)((function(){return Object(l.k)((function(){return Promise.all([i.e(1),i.e(3),i.e(19)]).then(i.bind(null,302))}))})),C=Object(g.lazy)((function(){return Object(l.k)((function(){return Promise.all([i.e(1),i.e(3),i.e(17),i.e(45)]).then(i.bind(null,277))}))}));function k(e){var t,i=this,r=e.stateCode,j=e.timeseries,m=e.date,v=e.regionHighlighted,k=e.setRegionHighlighted,D=e.anchor,H=e.setAnchor,S=e.expandTable,w=void 0!==S&&S,M=e.hideVaccinated,R=void 0!==M&&M,T=e.noRegionHighlightedDistrictData,A=Object(x.a)().t,J=Object(p.a)("timeseriesLookbackDays",90),U=Object(n.a)(J,2),B=U[0],E=U[1],I=Object(p.a)("chartType","delta"),L=Object(n.a)(I,2),P=L[0],V=(L[1],Object(p.a)("isUniform",!1)),z=Object(n.a)(V,2),q=z[0],W=(z[1],Object(p.a)("isLog",!1)),F=Object(n.a)(W,2),G=F[0],K=(F[1],Object(p.a)("isMovingAverage",!1)),Q=Object(n.a)(K,2),X=Q[0],Y=(Q[1],Object.keys((null===j||void 0===j||null===(t=j[r])||void 0===t?void 0:t.dates)||{})),Z=Y[0]||m||Object(l.g)(),$=Object(O.a)([Y[Y.length-1],m||Object(l.g)()]),_=Object(g.useState)($),ee=Object(n.a)(_,2),te=ee[0],ie=ee[1];Object(g.useEffect)((function(){ie($)}),[$]);var ce=null!==B?Object(f.a)(Object(h.a)(Object(l.j)(te),B),{representation:"date"}):Z,ne=Object(g.useRef)(),re=Object(d.a)(ne,{once:!0}),se=Object(y.a)().width,ae=Object(g.useMemo)((function(){var e;return(null===j||void 0===j||null===(e=j[v.stateCode])||void 0===e?void 0:e.districts)?{stateCode:v.stateCode,districtName:v.districtName}:{stateCode:v.stateCode,districtName:null}}),[j,v.stateCode,v.districtName]),oe=Object(g.useMemo)((function(){var e,t,i,c;return ae.districtName?null===j||void 0===j||null===(e=j[ae.stateCode])||void 0===e||null===(t=e.districts)||void 0===t||null===(i=t[ae.districtName])||void 0===i?void 0:i.dates:null===j||void 0===j||null===(c=j[ae.stateCode])||void 0===c?void 0:c.dates}),[j,ae.stateCode,ae.districtName]),de=Object(g.useMemo)((function(){var e=Object.keys(j||{}).filter((function(e){return e!==r})).sort((function(e,t){return o.x[e].localeCompare(o.x[t])})).map((function(e){return{stateCode:e,districtName:null}})),t=Object.keys(j||{}).reduce((function(e,t){var i;return[].concat(Object(c.a)(e),Object(c.a)(Object.keys((null===j||void 0===j||null===(i=j[t])||void 0===i?void 0:i.districts)||{}).reduce((function(e,i){return[].concat(Object(c.a)(e),[{stateCode:t,districtName:i}])}),[])))}),[]);return[{stateCode:r,districtName:null}].concat(Object(c.a)(e),Object(c.a)(t))}),[j,r]),le=Object(g.useMemo)((function(){return de.find((function(e){return e.stateCode===v.stateCode&&e.districtName===v.districtName}))?de:[].concat(Object(c.a)(de),[{stateCode:v.stateCode,districtName:v.districtName}])}),[v.stateCode,v.districtName,de]),ue=Object(g.useMemo)((function(){return Object.keys(oe||{}).filter((function(e){return e<=$}))}),[oe,$]),je=Object(g.useMemo)((function(){return ue.filter((function(e){return ce<=e&&e<=te}))}),[ue,ce,te]),be=Object(g.useCallback)((function(e){var t=e.target;k(JSON.parse(t.value))}),[k]),Oe=Object(g.useCallback)((function(){k({stateCode:r,districtName:null})}),[r,k]),fe=Object(g.useMemo)((function(){return o.D.filter((function(e){var t;return(!("vaccinated"===(null===(t=o.y[e])||void 0===t?void 0:t.category))||!R)&&("delta"===P||"tpr"!==e)}))}),[P,R]);return Object(s.jsxs)("div",{className:b()("TimeseriesExplorer fadeInUp",{stickied:"timeseries"===D},{expanded:w}),style:{display:D&&"timeseries"!==D&&(!w||se<769)?"none":""},ref:ne,children:[Object(s.jsxs)("div",{className:"timeseries-header",children:[Object(s.jsx)("div",{className:b()("anchor","fadeInUp",{stickied:"timeseries"===D}),style:{display:w&&se>=769?"none":""},onClick:H&&H.bind(this,"timeseries"===D?null:"timeseries"),children:Object(s.jsx)(u.q,{})}),Object(s.jsx)("h1",{children:A("Stats")}),Object(s.jsx)("div",{className:"tabs"}),Object(s.jsxs)("div",{className:"timeseries-options",children:[Object(s.jsx)("div",{className:"scale-modes",children:Object(s.jsx)("div",{className:"timeseries-mode ".concat("total"!==P?"disabled":"")})}),Object(s.jsx)("div",{className:"timeseries-mode ".concat("total"===P?"disabled":""," moving-average")})]})]}),le&&Object(s.jsxs)("div",{className:"state-selection",children:[Object(s.jsx)("div",{className:"dropdown",children:Object(s.jsx)("select",{value:JSON.stringify(ae),onChange:be,children:le.filter((function(e){return o.x[e.stateCode]!==e.districtName})).map((function(e){return Object(s.jsx)("option",{value:JSON.stringify(e),children:e.districtName?A(e.districtName):A(o.x[e.stateCode])},"".concat(e.stateCode,"-").concat(e.districtName))}))})}),Object(s.jsx)("div",{className:"reset-icon",onClick:Oe,children:Object(s.jsx)(u.s,{})})]}),re&&Object(s.jsxs)(g.Suspense,{fallback:Object(s.jsx)(a,{}),children:[Object(s.jsx)(N,{timeseries:oe,regionHighlighted:ae,dates:je,statistics:fe,endDate:$,chartType:P,isUniform:q,isLog:G,isMovingAverage:X,noRegionHighlightedDistrictData:T}),Object(s.jsx)(C,{timeseries:oe,regionHighlighted:ae,currentBrushSelection:[ce,te],animationIndex:fe.length,dates:ue,endDate:$,lookback:B,setBrushSelectionEnd:ie,setLookback:E})]}),!re&&Object(s.jsx)("div",{style:{height:"50rem"}}),Object(s.jsx)("div",{className:"pills fadeInUp",style:{animationDelay:"".concat(250*(1+fe.length),"ms")},children:o.C.map((function(e){return Object(s.jsx)("button",{type:"button",className:b()({selected:e===B}),onClick:E.bind(i,e),children:null!==e?"".concat(e," ").concat(A("days")):A("Beginning")},e)}))})]})}var D=function(e,t){return!t.forceRender&&(!(t.timeseries||!e.timeseries)||!(t.timeseries&&!e.timeseries)&&(!!v()(t.regionHighlighted.stateCode,e.regionHighlighted.stateCode)&&(!!v()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&(!!v()(t.date,e.date)&&(!!v()(t.anchor,e.anchor)&&(!!v()(t.expandTable,e.expandTable)&&(!!v()(t.hideVaccinated,e.hideVaccinated)&&!!v()(t.noRegionHighlightedDistrictData,e.noRegionHighlightedDistrictData))))))))};t.default=Object(g.memo)(k,D)}}]);
//# sourceMappingURL=29.716ee5f3.chunk.js.map